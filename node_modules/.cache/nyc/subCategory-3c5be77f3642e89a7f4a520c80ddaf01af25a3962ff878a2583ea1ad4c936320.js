function cov_1vgj263n0r(){var path="D:\\Projects\\ExpressJs\\e-commerce-backend\\helpers\\subCategory.js";var hash="5677701f469e8c31460e628f346d6e2e74d2380b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Projects\\ExpressJs\\e-commerce-backend\\helpers\\subCategory.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}}},fnMap:{},branchMap:{},s:{"0":0},f:{},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5677701f469e8c31460e628f346d6e2e74d2380b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1vgj263n0r=function(){return actualCoverage;};return actualCoverage;}cov_1vgj263n0r();const db=(cov_1vgj263n0r().s[0]++,require('../models'));/* istanbul ignore next */exports.addSubCategory=(req,res)=>{db.Category.findOne({name:req.body.category}).then(category=>{db.SubCategory.create({name:req.body.name,parentCategory:category}).then(category=>res.send(category)).catch(error=>console.log(error));}).catch(error=>console.log(error));};/* istanbul ignore next */exports.getSubCategories=(req,res)=>{db.SubCategory.find({}).then(subCategories=>res.send({"SUCCESS":subCategories})).catch(error=>{console.log(error);res.send({"ERROR":true});});};/* istanbul ignore next */exports.getSubCategoryByName=(req,res)=>{db.Category.findOne({name:req.params.category}).then(category=>{db.SubCategory.find({parentCategory:category._id}).then(subcategory=>res.send({"SUCCESS":subcategory})).catch(error=>res.send({"ERROR":error}));}).catch(error=>res.send({"ERROR":error}));};/* istanbul ignore next */exports.deleteSubCategory=(req,res)=>{db.SubCategory.findOneAndRemove({_id:req.body.id}).then(()=>res.send({"SUCCESS":"Sub category deleted"})).catch(error=>{res.send({"ERROR":"Failed to delete sub category"});console.log("SUBCAT:",error);});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1YkNhdGVnb3J5LmpzIl0sIm5hbWVzIjpbImRiIiwicmVxdWlyZSIsImV4cG9ydHMiLCJhZGRTdWJDYXRlZ29yeSIsInJlcSIsInJlcyIsIkNhdGVnb3J5IiwiZmluZE9uZSIsIm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJ0aGVuIiwiU3ViQ2F0ZWdvcnkiLCJjcmVhdGUiLCJwYXJlbnRDYXRlZ29yeSIsInNlbmQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImdldFN1YkNhdGVnb3JpZXMiLCJmaW5kIiwic3ViQ2F0ZWdvcmllcyIsImdldFN1YkNhdGVnb3J5QnlOYW1lIiwicGFyYW1zIiwiX2lkIiwic3ViY2F0ZWdvcnkiLCJkZWxldGVTdWJDYXRlZ29yeSIsImZpbmRPbmVBbmRSZW1vdmUiLCJpZCJdLCJtYXBwaW5ncyI6IjJ3QkFBQSxLQUFNQSxDQUFBQSxFQUFFLDBCQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFWLENBQVIsQ0FFQSwwQkFFQUMsT0FBTyxDQUFDQyxjQUFSLENBQXlCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLENBQ25DTCxFQUFFLENBQUNNLFFBQUgsQ0FBWUMsT0FBWixDQUFvQixDQUFFQyxJQUFJLENBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQyxRQUFqQixDQUFwQixFQUNLQyxJQURMLENBQ1VELFFBQVEsRUFBSSxDQUNkVixFQUFFLENBQUNZLFdBQUgsQ0FBZUMsTUFBZixDQUFzQixDQUNsQkwsSUFBSSxDQUFFSixHQUFHLENBQUNLLElBQUosQ0FBU0QsSUFERyxDQUVsQk0sY0FBYyxDQUFFSixRQUZFLENBQXRCLEVBR0dDLElBSEgsQ0FHUUQsUUFBUSxFQUFJTCxHQUFHLENBQUNVLElBQUosQ0FBU0wsUUFBVCxDQUhwQixFQUlLTSxLQUpMLENBSVdDLEtBQUssRUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FKcEIsRUFLSCxDQVBMLEVBUUtELEtBUkwsQ0FRV0MsS0FBSyxFQUFJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWixDQVJwQixFQVNILENBVkQsQ0FZQSwwQkFFQWYsT0FBTyxDQUFDa0IsZ0JBQVIsQ0FBMkIsQ0FBQ2hCLEdBQUQsQ0FBTUMsR0FBTixHQUFhLENBQ3BDTCxFQUFFLENBQUNZLFdBQUgsQ0FBZVMsSUFBZixDQUFvQixFQUFwQixFQUNLVixJQURMLENBQ1VXLGFBQWEsRUFBSWpCLEdBQUcsQ0FBQ1UsSUFBSixDQUFTLENBQUMsVUFBV08sYUFBWixDQUFULENBRDNCLEVBRUtOLEtBRkwsQ0FFV0MsS0FBSyxFQUFJLENBQ1pDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaLEVBQ0FaLEdBQUcsQ0FBQ1UsSUFBSixDQUFTLENBQUMsUUFBUyxJQUFWLENBQVQsRUFDSCxDQUxMLEVBTUgsQ0FQRCxDQVNBLDBCQUVBYixPQUFPLENBQUNxQixvQkFBUixDQUErQixDQUFDbkIsR0FBRCxDQUFNQyxHQUFOLEdBQWMsQ0FDekNMLEVBQUUsQ0FBQ00sUUFBSCxDQUFZQyxPQUFaLENBQW9CLENBQUNDLElBQUksQ0FBRUosR0FBRyxDQUFDb0IsTUFBSixDQUFXZCxRQUFsQixDQUFwQixFQUNDQyxJQURELENBQ01ELFFBQVEsRUFBSSxDQUNkVixFQUFFLENBQUNZLFdBQUgsQ0FBZVMsSUFBZixDQUFvQixDQUFDUCxjQUFjLENBQUVKLFFBQVEsQ0FBQ2UsR0FBMUIsQ0FBcEIsRUFDQ2QsSUFERCxDQUNNZSxXQUFXLEVBQUlyQixHQUFHLENBQUNVLElBQUosQ0FBUyxDQUFDLFVBQVVXLFdBQVgsQ0FBVCxDQURyQixFQUVDVixLQUZELENBRU9DLEtBQUssRUFBSVosR0FBRyxDQUFDVSxJQUFKLENBQVMsQ0FBQyxRQUFRRSxLQUFULENBQVQsQ0FGaEIsRUFHSCxDQUxELEVBTUNELEtBTkQsQ0FNT0MsS0FBSyxFQUFJWixHQUFHLENBQUNVLElBQUosQ0FBUyxDQUFDLFFBQVFFLEtBQVQsQ0FBVCxDQU5oQixFQU9ILENBUkQsQ0FVQSwwQkFFQWYsT0FBTyxDQUFDeUIsaUJBQVIsQ0FBNEIsQ0FBQ3ZCLEdBQUQsQ0FBTUMsR0FBTixHQUFjLENBQ3RDTCxFQUFFLENBQUNZLFdBQUgsQ0FBZWdCLGdCQUFmLENBQWdDLENBQUVILEdBQUcsQ0FBRXJCLEdBQUcsQ0FBQ0ssSUFBSixDQUFTb0IsRUFBaEIsQ0FBaEMsRUFDS2xCLElBREwsQ0FDVSxJQUFNTixHQUFHLENBQUNVLElBQUosQ0FBUyxDQUFFLFVBQVcsc0JBQWIsQ0FBVCxDQURoQixFQUVLQyxLQUZMLENBRVdDLEtBQUssRUFBSSxDQUNaWixHQUFHLENBQUNVLElBQUosQ0FBUyxDQUFFLFFBQVMsK0JBQVgsQ0FBVCxFQUNBRyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaLENBQXVCRixLQUF2QixFQUNILENBTEwsRUFNSCxDQVBEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLi9tb2RlbHMnKVxyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuXHJcbmV4cG9ydHMuYWRkU3ViQ2F0ZWdvcnkgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGRiLkNhdGVnb3J5LmZpbmRPbmUoeyBuYW1lOiByZXEuYm9keS5jYXRlZ29yeSB9KVxyXG4gICAgICAgIC50aGVuKGNhdGVnb3J5ID0+IHtcclxuICAgICAgICAgICAgZGIuU3ViQ2F0ZWdvcnkuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDYXRlZ29yeTogY2F0ZWdvcnlcclxuICAgICAgICAgICAgfSkudGhlbihjYXRlZ29yeSA9PiByZXMuc2VuZChjYXRlZ29yeSkpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxufVxyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuXHJcbmV4cG9ydHMuZ2V0U3ViQ2F0ZWdvcmllcyA9IChyZXEsIHJlcykgPT57XHJcbiAgICBkYi5TdWJDYXRlZ29yeS5maW5kKHt9KVxyXG4gICAgICAgIC50aGVuKHN1YkNhdGVnb3JpZXMgPT4gcmVzLnNlbmQoe1wiU1VDQ0VTU1wiOiBzdWJDYXRlZ29yaWVzfSkpXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIHJlcy5zZW5kKHtcIkVSUk9SXCI6IHRydWV9KVxyXG4gICAgICAgIH0pXHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcblxyXG5leHBvcnRzLmdldFN1YkNhdGVnb3J5QnlOYW1lID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBkYi5DYXRlZ29yeS5maW5kT25lKHtuYW1lOiByZXEucGFyYW1zLmNhdGVnb3J5fSlcclxuICAgIC50aGVuKGNhdGVnb3J5ID0+IHtcclxuICAgICAgICBkYi5TdWJDYXRlZ29yeS5maW5kKHtwYXJlbnRDYXRlZ29yeTogY2F0ZWdvcnkuX2lkfSlcclxuICAgICAgICAudGhlbihzdWJjYXRlZ29yeSA9PiByZXMuc2VuZCh7XCJTVUNDRVNTXCI6c3ViY2F0ZWdvcnl9KSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVzLnNlbmQoe1wiRVJST1JcIjplcnJvcn0pKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnJvciA9PiByZXMuc2VuZCh7XCJFUlJPUlwiOmVycm9yfSkpXHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcblxyXG5leHBvcnRzLmRlbGV0ZVN1YkNhdGVnb3J5ID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBkYi5TdWJDYXRlZ29yeS5maW5kT25lQW5kUmVtb3ZlKHsgX2lkOiByZXEuYm9keS5pZCB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHJlcy5zZW5kKHsgXCJTVUNDRVNTXCI6IFwiU3ViIGNhdGVnb3J5IGRlbGV0ZWRcIiB9KSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICByZXMuc2VuZCh7IFwiRVJST1JcIjogXCJGYWlsZWQgdG8gZGVsZXRlIHN1YiBjYXRlZ29yeVwiIH0pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU1VCQ0FUOlwiLCBlcnJvcilcclxuICAgICAgICB9KVxyXG59Il19